{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/Phonebook/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Projects/Phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{pushContact,removeContact,setContacts}from\"./contactSlice\";import{createAsyncThunk}from\"@reduxjs/toolkit\";axios.defaults.baseURL=\"https://connections-api.herokuapp.com\";var getContacts=createAsyncThunk(\"contacts/getContact\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(listContacts,_ref){var rejectWithValue,dispatch,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue,dispatch=_ref.dispatch;_context.prev=1;_context.next=4;return axios.get(\"/contacts\",listContacts);case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch(setContacts(data));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(rejectWithValue(_context.t0));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());var addContact=createAsyncThunk(\"contacts/addContact\",/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3,_ref4){var name,number,rejectWithValue,dispatch,contact,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:name=_ref3.name,number=_ref3.number;rejectWithValue=_ref4.rejectWithValue,dispatch=_ref4.dispatch;_context2.prev=2;contact={name:name,number:number};_context2.next=6;return axios.post(\"/contacts\",contact);case 6:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;dispatch(pushContact(data));_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);console.log(rejectWithValue(_context2.t0));case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,11]]);}));return function(_x3,_x4){return _ref5.apply(this,arguments);};}());var deleteContact=createAsyncThunk(\"contacts/deleteContact\",/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id,_ref6){var rejectWithValue,dispatch;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:rejectWithValue=_ref6.rejectWithValue,dispatch=_ref6.dispatch;_context3.prev=1;_context3.next=4;return axios.delete(\"/contacts/\".concat(id));case 4:dispatch(removeContact(id));_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](1);console.log(rejectWithValue(_context3.t0));case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[1,7]]);}));return function(_x5,_x6){return _ref7.apply(this,arguments);};}());var contactsOperatios={getContacts:getContacts,deleteContact:deleteContact,addContact:addContact};export default contactsOperatios;","map":{"version":3,"names":["axios","pushContact","removeContact","setContacts","createAsyncThunk","defaults","baseURL","getContacts","listContacts","rejectWithValue","dispatch","get","data","console","log","addContact","name","number","contact","post","deleteContact","id","delete","contactsOperatios"],"sources":["C:/Projects/Phonebook/src/components/redux/contacts/contacts-operations.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { pushContact, removeContact, setContacts } from \"./contactSlice\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst getContacts = createAsyncThunk(\r\n  \"contacts/getContact\",\r\n  async (listContacts, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      const { data } = await axios.get(\"/contacts\", listContacts);\r\n      dispatch(setContacts(data));\r\n    } catch (error) {\r\n      console.log(rejectWithValue(error));\r\n    }\r\n  }\r\n);\r\n\r\nconst addContact = createAsyncThunk(\r\n  \"contacts/addContact\",\r\n  async ({ name, number }, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      const contact = {\r\n        name: name,\r\n        number: number,\r\n      };\r\n      const { data } = await axios.post(`/contacts`, contact);\r\n      dispatch(pushContact(data));\r\n    } catch (error) {\r\n      console.log(rejectWithValue(error));\r\n    }\r\n  }\r\n);\r\n\r\nconst deleteContact = createAsyncThunk(\r\n  \"contacts/deleteContact\",\r\n  async (id, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      await axios.delete(`/contacts/${id}`);\r\n      dispatch(removeContact(id));\r\n    } catch (error) {\r\n      console.log(rejectWithValue(error));\r\n    }\r\n  }\r\n);\r\n\r\nconst contactsOperatios = { getContacts, deleteContact, addContact };\r\n\r\nexport default contactsOperatios;\r\n"],"mappings":"sOAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,aAAa,CAAEC,WAAW,KAAQ,gBAAgB,CACxE,OAASC,gBAAgB,KAAQ,kBAAkB,CAEnDJ,KAAK,CAACK,QAAQ,CAACC,OAAO,CAAG,uCAAuC,CAEhE,GAAMC,YAAW,CAAGH,gBAAgB,CAClC,qBAAqB,6FACrB,iBAAOI,YAAY,4KAAIC,eAAe,MAAfA,eAAe,CAAEC,QAAQ,MAARA,QAAQ,uCAErBV,MAAK,CAACW,GAAG,CAAC,WAAW,CAAEH,YAAY,CAAC,uCAAnDI,IAAI,kBAAJA,IAAI,CACZF,QAAQ,CAACP,WAAW,CAACS,IAAI,CAAC,CAAC,CAAC,+EAE5BC,OAAO,CAACC,GAAG,CAACL,eAAe,aAAO,CAAC,CAAC,oEAEvC,oEACF,CAED,GAAMM,WAAU,CAAGX,gBAAgB,CACjC,qBAAqB,6FACrB,6NAASY,IAAI,OAAJA,IAAI,CAAEC,MAAM,OAANA,MAAM,CAAMR,eAAe,OAAfA,eAAe,CAAEC,QAAQ,OAARA,QAAQ,kBAE1CQ,OAAO,CAAG,CACdF,IAAI,CAAEA,IAAI,CACVC,MAAM,CAAEA,MACV,CAAC,wBACsBjB,MAAK,CAACmB,IAAI,aAAcD,OAAO,CAAC,yCAA/CN,IAAI,mBAAJA,IAAI,CACZF,QAAQ,CAACT,WAAW,CAACW,IAAI,CAAC,CAAC,CAAC,qFAE5BC,OAAO,CAACC,GAAG,CAACL,eAAe,cAAO,CAAC,CAAC,uEAEvC,qEACF,CAED,GAAMW,cAAa,CAAGhB,gBAAgB,CACpC,wBAAwB,6FACxB,kBAAOiB,EAAE,2JAAIZ,eAAe,OAAfA,eAAe,CAAEC,QAAQ,OAARA,QAAQ,yCAE5BV,MAAK,CAACsB,MAAM,qBAAcD,EAAE,EAAG,QACrCX,QAAQ,CAACR,aAAa,CAACmB,EAAE,CAAC,CAAC,CAAC,mFAE5BR,OAAO,CAACC,GAAG,CAACL,eAAe,cAAO,CAAC,CAAC,sEAEvC,qEACF,CAED,GAAMc,kBAAiB,CAAG,CAAEhB,WAAW,CAAXA,WAAW,CAAEa,aAAa,CAAbA,aAAa,CAAEL,UAAU,CAAVA,UAAW,CAAC,CAEpE,cAAeQ,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}