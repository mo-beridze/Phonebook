{"ast":null,"code":"import React from\"react\";import{useState,useEffect}from\"react\";import Form from\"./components/Form/ContactsView/Form\";import ContactList from\"./components/Form/ContactsView/ContactList\";import s from\"./components/Form/Main.module.css\";import Filter from\"./components/Form/ContactsView/Filter\";import{Route,Routes}from\"react-router-dom\";import RegisterView from\"./components/Form/RegisterView\";import LoginView from\"./components/Form/LoginView\";import NavBar from\"./components/Form/NavBar\";import PageContactsView from\"./components/Form/ContactsView/PageContactsView\";import authOperation from\"./components/redux/auth/auth-operations\";// import { Provider } from \"react-redux\";\nimport{store,persistor}from\"./components/redux/store\";import{PersistGate}from\"redux-persist/integration/react\";import{useDispatch,useSelector}from\"react-redux\";import authSelectors from\"./components/redux/auth/auth-selector\";import HomePage from\"./components/Form/HomePage\";import PublicRoute from\"./components/Form/PublicRoute\";import PrivateRoute from\"./components/Form/PrivateRoute\";import{createTheme,ThemeProvider}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var theme=createTheme({typography:{fontFamily:[\"Raleway\",\"sans - serif\"].join(\",\")}});var dispatch=useDispatch();var token=useSelector(authSelectors.getUserToken);var isFetchingCurrentUser=useSelector(authSelectors.getIsFetchingCurrentUser);useEffect(function(){if(token){dispatch(authOperation.fetchCurrentUser());}},[]);return!isFetchingCurrentUser&&/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"main\",{className:s.main_wrapper,children:/*#__PURE__*/_jsx(PersistGate,{loading:null,persistor:persistor,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(PublicRoute,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterView,{}),restricted:true}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginView,{}),restricted:true})]}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(PrivateRoute,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/contacts\",element:/*#__PURE__*/_jsx(PageContactsView,{})})})]})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Form","ContactList","s","Filter","Route","Routes","RegisterView","LoginView","NavBar","PageContactsView","authOperation","store","persistor","PersistGate","useDispatch","useSelector","authSelectors","HomePage","PublicRoute","PrivateRoute","createTheme","ThemeProvider","App","theme","typography","fontFamily","join","dispatch","token","getUserToken","isFetchingCurrentUser","getIsFetchingCurrentUser","fetchCurrentUser","main_wrapper"],"sources":["C:/Projects/Phonebook/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Form from \"./components/Form/ContactsView/Form\";\nimport ContactList from \"./components/Form/ContactsView/ContactList\";\nimport s from \"./components/Form/Main.module.css\";\nimport Filter from \"./components/Form/ContactsView/Filter\";\nimport { Route, Routes } from \"react-router-dom\";\nimport RegisterView from \"./components/Form/RegisterView\";\nimport LoginView from \"./components/Form/LoginView\";\nimport NavBar from \"./components/Form/NavBar\";\nimport PageContactsView from \"./components/Form/ContactsView/PageContactsView\";\nimport authOperation from \"./components/redux/auth/auth-operations\";\n// import { Provider } from \"react-redux\";\nimport { store, persistor } from \"./components/redux/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport authSelectors from \"./components/redux/auth/auth-selector\";\nimport HomePage from \"./components/Form/HomePage\";\nimport PublicRoute from \"./components/Form/PublicRoute\";\nimport PrivateRoute from \"./components/Form/PrivateRoute\";\nimport { createTheme, ThemeProvider } from \"@mui/material\";\n\nexport default function App() {\n  const theme = createTheme({\n    typography: {\n      fontFamily: [\"Raleway\", \"sans - serif\"].join(\",\"),\n    },\n  });\n  const dispatch = useDispatch();\n  const token = useSelector(authSelectors.getUserToken);\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrentUser);\n  useEffect(() => {\n    if (token) {\n      dispatch(authOperation.fetchCurrentUser());\n    }\n  }, []);\n  return (\n    !isFetchingCurrentUser && (\n      <ThemeProvider theme={theme}>\n        <div>\n          <NavBar />\n          <main className={s.main_wrapper}>\n            {/* <Provider store={store}> */}\n            <PersistGate loading={null} persistor={persistor}>\n              <Routes>\n                <Route path=\"/\" element={<HomePage />}></Route>\n                <Route element={<PublicRoute />}>\n                  <Route path=\"/register\" element={<RegisterView />} restricted></Route>\n                  <Route path=\"/login\" element={<LoginView />} restricted></Route>\n                </Route>\n                <Route element={<PrivateRoute />}>\n                  <Route path=\"/contacts\" element={<PageContactsView />}></Route>\n                </Route>\n              </Routes>\n            </PersistGate>\n            {/* </Provider> */}\n          </main>\n        </div>\n      </ThemeProvider>\n    )\n  );\n}\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,qCAAqC,CACtD,MAAOC,YAAW,KAAM,4CAA4C,CACpE,MAAOC,EAAC,KAAM,mCAAmC,CACjD,MAAOC,OAAM,KAAM,uCAAuC,CAC1D,OAASC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAChD,MAAOC,aAAY,KAAM,gCAAgC,CACzD,MAAOC,UAAS,KAAM,6BAA6B,CACnD,MAAOC,OAAM,KAAM,0BAA0B,CAC7C,MAAOC,iBAAgB,KAAM,iDAAiD,CAC9E,MAAOC,cAAa,KAAM,yCAAyC,CACnE;AACA,OAASC,KAAK,CAAEC,SAAS,KAAQ,0BAA0B,CAC3D,OAASC,WAAW,KAAQ,iCAAiC,CAC7D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAOC,cAAa,KAAM,uCAAuC,CACjE,MAAOC,SAAQ,KAAM,4BAA4B,CACjD,MAAOC,YAAW,KAAM,+BAA+B,CACvD,MAAOC,aAAY,KAAM,gCAAgC,CACzD,OAASC,WAAW,CAAEC,aAAa,KAAQ,eAAe,CAAC,wFAE3D,cAAe,SAASC,IAAG,EAAG,CAC5B,GAAMC,MAAK,CAAGH,WAAW,CAAC,CACxBI,UAAU,CAAE,CACVC,UAAU,CAAE,CAAC,SAAS,CAAE,cAAc,CAAC,CAACC,IAAI,CAAC,GAAG,CAClD,CACF,CAAC,CAAC,CACF,GAAMC,SAAQ,CAAGb,WAAW,EAAE,CAC9B,GAAMc,MAAK,CAAGb,WAAW,CAACC,aAAa,CAACa,YAAY,CAAC,CACrD,GAAMC,sBAAqB,CAAGf,WAAW,CAACC,aAAa,CAACe,wBAAwB,CAAC,CACjFhC,SAAS,CAAC,UAAM,CACd,GAAI6B,KAAK,CAAE,CACTD,QAAQ,CAACjB,aAAa,CAACsB,gBAAgB,EAAE,CAAC,CAC5C,CACF,CAAC,CAAE,EAAE,CAAC,CACN,MACE,CAACF,qBAAqB,eACpB,KAAC,aAAa,EAAC,KAAK,CAAEP,KAAM,uBAC1B,oCACE,KAAC,MAAM,IAAG,cACV,aAAM,SAAS,CAAErB,CAAC,CAAC+B,YAAa,uBAE9B,KAAC,WAAW,EAAC,OAAO,CAAE,IAAK,CAAC,SAAS,CAAErB,SAAU,uBAC/C,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAS,cAC/C,MAAC,KAAK,EAAC,OAAO,cAAE,KAAC,WAAW,IAAI,wBAC9B,KAAC,KAAK,EAAC,IAAI,CAAC,WAAW,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,CAAC,UAAU,OAAS,cACtE,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,SAAS,IAAI,CAAC,UAAU,OAAS,GAC1D,cACR,KAAC,KAAK,EAAC,OAAO,cAAE,KAAC,YAAY,IAAI,uBAC/B,KAAC,KAAK,EAAC,IAAI,CAAC,WAAW,CAAC,OAAO,cAAE,KAAC,gBAAgB,IAAI,EAAS,EACzD,GACD,EACG,EAET,GACH,EAET,CAEL"},"metadata":{},"sourceType":"module","externalDependencies":[]}